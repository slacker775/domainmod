{% set softwareSectionLogo = 'fa-cubes' %}

{% extends 'base.html.twig' %}

{% block title %}
Domain Registrars
{% endblock %}

{% block breadcrumbs %}
<li class="breadcrumb-item"><a href="{{ path('asset') }}">Assets</a></li>
<li class='breadcrumb-item active'>Registrars</li>
{% endblock %}

{% block body %}
<div class="row">
	<div class="col-lg-12">
		<div class="card">
			<div class="card-body">
				Below is a list of all the Domain Registrars that are stored in
				DomainMOD. <br> <br> <a href="{{ path('registrar_new') }}">{{ _self.showButton('button','Add Registrar') }}</a>
				<a href="{{ path('registrar_export') }}">{{ _self.showButton('button','Export') }}</a>
				<br> <br>

				{% if registrars is not empty %}

				<table id="assets-registrars"
					class="table table-striped dt-responsive cell-border compact">
					<thead>
						<tr>
							<th width="20px"></th>
							<th>Registrar</th>
							<th>Accounts</th>
							<th>Domains</th>
							<th>Options</th>
						</tr>
					</thead>

					<tbody>

						{% for registrar in registrars %}
						{% if registrar.numDomains >= 1 or displayInactiveAssets %}
						<tr>
							<td></td>
							<td><a
								href="{{ path('registrar_edit',{ id: registrar.id}) }}">{{ registrar.name }}</a>
								{% if app.session.get('settings').defaultRegistrar and defaultRegistrar.id == registrar.id %}<strong>*</strong>
								{% endif %}</td>
							<td>{% if registrar.numAccounts >= 1 %} <a
								href="registrar-accounts.php?rid={{ registrar.id }}">{{ registrar.numAccounts|number_format }}</a><?php
								{% else %} - {% endif %}</td>
							<td>{% if registrar.numDomains >= 1 %} <a
								href="{{ path('domain_index', { registrar: registrar.id }) }}">{{ registrar.numDomains|number_format }}</a><?php
								{% else %} - {% endif %}</td>
							<td><a href="{{ path('fee_index', { id: registrar.id }) }}">fees</a>&nbsp;&nbsp;
								{% if registrar.url %} <a target="_blank"
								href="{{ registrar.url }}">www</a> {% endif %}</td>
						</tr>
						{% endif %}
						{% endfor %}
					</tbody>
				</table>

				<strong>*</strong> = Default ( <a
					href="{{ path('settings_defaults') }}">set defaults</a> ) <br>
				<br> <?php

				{% else %}
				<br> You don't currently have any Domain Registrars. <a
					href="{{ path('registrar_new') }}">Click here to add one</a> .
				{% endif %}

				{% if app.session.get('displayInactiveAssets') %}
				<em>Inactive Assets are currently displayed. <a
					href="/settings/toggles/inactive-assets.php">Click here to hide
						them</a>.
				</em> <br>
				{% else %}
				<em>Inactive Assets are currently hidden. <a
					href="/settings/toggles/inactive-assets.php">Click here to
						display them</a>.
				</em> <br>
				{% endif %}
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block datatable_options %}
$('#assets-registrars').DataTable();
{% endblock %}
